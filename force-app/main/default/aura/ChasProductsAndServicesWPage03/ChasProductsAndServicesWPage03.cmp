<!--
  * @changeLog :
  * @date         : 19/06/2020
  * Modified by   : Hara Sahoo
  * @description  : 1. Added Back Button and a card layout outer-box
-->
<aura:component extends="c:CHAS_reviewAndSubmit" description="Products and Services wizard page 3: Review and Submit">
    
    <div class="component">
        <!--Go back button-->
        <div class="left-padding">
            <img src="sfsites/c/resource/ChasIcons/chas-icons/pngs/UI/icons/back_arrow.png" alt="Go back"/><label>&nbsp;</label>
            <lightning:button label="BACK" variant="base" onclick="{!c.goBackHandler}" class="goBack"/>
        </div>
        <div class="outer-box">
            <!-- Componnet Heading1 -->
            <h2 class="chas-header">Review and submit</h2>
            
            <!-- Enquiry Details Heading -->
            <h3 class="sub-header">Enquiry details</h3>
            
            <div class="review-container">
                <dl>
                    <div>
                        <dt>Product or service</dt>
                        <dd>{! v.wizardData.selectedRadio1Name }</dd>
                    </div>
                    
                    <aura:if isTrue="{! v.wizardData.selectedRadio1Name == 'Mail products' }">
                        <div>
                            <dt>Enquiry type</dt>
                            <dd>{! v.wizardData.mailProductsEnquiryType }</dd>
                        </div>
                        
                        <aura:if isTrue="{! v.wizardData.mailProductsEnquiryType == 'Transfer to another post office' }">
                            <div>
                                <dt>Tracking number</dt>
                                <dd>{! v.wizardData.trackingId }</dd>
                            </div>
                        </aura:if>
                    </aura:if>
                    
                    <aura:if isTrue="{! v.wizardData.selectedRadio1Name == 'ID, documents &amp; accounts' }">
                        <div>
                            <dt>Enquiry type</dt>
                            <dd>{! v.wizardData.idDocumentsAccountsEnquiryType }</dd>
                        </div>
                    </aura:if>
                    
                    <aura:if isTrue="{! v.wizardData.selectedRadio1Name == 'Online Shop' }">
                        <aura:if isTrue="{! v.wizardData.selectedRadio2Name == 'Yes' }">
                            <div>
                                <dt>Order no</dt>
                                <dd>{! v.wizardData.orderNumber }</dd>
                            </div>
                            
                            <div>
                                <dt>Tracking number</dt>
                                <dd>{! v.wizardData.orderTrackingNumber }</dd>
                            </div>
                        </aura:if>
                    </aura:if>
                    
                    <aura:if isTrue="{! v.wizardData.selectedRadio1Name == 'Money' }">
                        <div>
                            <dt>Enquiry type</dt>
                            <dd>{! v.wizardData.selectedRadio3Name }</dd>
                        </div>
                    </aura:if>
                    
                    <div>
                        <dt>Details</dt>
                        <dd>{! v.wizardData.enquiryDetails }</dd>
                    </div>
                    <aura:if isTrue="{! and(v.wizardData.selectedRadio1Name == 'Online Shop', v.wizardData.selectedRadio2Name == 'Yes') }">
                        <div>
                            <dt>Delivery address</dt>
                            <dd>{! v.wizardData.deliveryAddressLine1 + ', ' }
                                <aura:if isTrue='{! v.wizardData.deliveryAddressLine2 }'>
                                    {! v.wizardData.deliveryAddressLine2 + ', ' }
                                </aura:if>
                                <aura:if isTrue='{! v.wizardData.deliveryCity }'>
                                    {! v.wizardData.deliveryCity + ' ' }
                                </aura:if>
                                <aura:if isTrue='{! v.wizardData.deliveryState }'>
                                    {! v.wizardData.deliveryState + ' ' }
                                </aura:if>
                                <aura:if isTrue='{! v.wizardData.deliveryPostcode }'>
                                    {! v.wizardData.deliveryPostcode }
                                </aura:if>
                            </dd>
                        </div>
                    </aura:if>
                    <!-- Original delivery addresss -->
                    <aura:if isTrue="{! and(v.wizardData.selectedRadio1Name =='Mail products',v.wizardData.mailProductsEnquiryType == 'Transfer to another post office') }">
                        <div>
                            <dt>Original delivery address</dt>
                            <dd>{! v.wizardData.deliveryAddressLine1 + ', ' }
                                <aura:if isTrue='{! v.wizardData.deliveryAddressLine2 }'>
                                    {! v.wizardData.deliveryAddressLine2 + ', ' }
                                </aura:if>
                                <aura:if isTrue='{! v.wizardData.deliveryCity }'>
                                    {! v.wizardData.deliveryCity + ' ' }
                                </aura:if>
                                <aura:if isTrue='{! v.wizardData.deliveryState }'>
                                    {! v.wizardData.deliveryState + ' ' }
                                </aura:if>
                                <aura:if isTrue='{! v.wizardData.deliveryPostcode }'>
                                    {! v.wizardData.deliveryPostcode }
                                </aura:if>
                            </dd>
                        </div>
                        <!-- Preferred Post Office for collection -->
                        <div>
                            <dt>Preferred Post Office for collection</dt>
                            <dd>{! v.wizardData.selectedPostOffice}</dd>
                        </div>
                    </aura:if>
                </dl>
            </div>
            <!-- Section separator-->
            <div class="separator-gap">
                <hr/>
            </div>
            <!-- Contact Details Heading -->
            <h3 class="chas-header_small">Contact details</h3>
            
            <div class="review-container">
                <dl>
                    <div>
                        <dt>Name</dt>
                        <!--<dd>{!(v.authUserData.userContactFirstName)+' '+(v.authUserData.userContactLastName)}</dd>-->
                        <dd>{!or(v.wizardData.givenName,v.authUserData.userContactFirstName)+' '+or(v.wizardData.surname,v.authUserData.userContactLastName)}</dd>
                    </div>
                    <div>
                        <dt>Email</dt>
                        <!--<dd>{!v.authUserData.userContactEmail}</dd>-->
                        <dd>{!or(v.wizardData.emailId,v.authUserData.userContactEmail)}</dd>
                    </div>
                    <div>
                        <dt>Phone</dt>
                        <!--<dd>{!v.authUserData.userContactPhone}</dd>-->
                        <dd>{!or(v.wizardData.phone,v.authUserData.userContactPhone)}</dd>
                    </div>
                    <div>
                        <!-- Contact Preference, added by Edmarco on July 2019 -->
                        <dt>Contact Preference</dt>
                        <dd>{!v.wizardData.contactPreferrence}</dd>
                    </div>
                </dl>
                <!-- old markup, no longer relevant, can be deleted by 30-10-2020-->
                <!-- <ul>
                <li>{! (v.authUserData.userContactFirstName)+' '+(v.authUserData.userContactLastName) }</li>
                <li>{! v.authUserData.userContactEmail }</li>
                <li>{! v.authUserData.userContactPhone }</li>
            </ul> -->
            </div>
            <c:ChasNavButtons nextLabel="Continue" disabled="false" nextAction="{! c.goForward }" loading="{! v.showSpinner }"/>
            <!--<c:ChasNavButtons nextLabel="Submit" nextAction="{! c.goForward }" backAction="{! c.goBack }" disabled="false"  />-->
        </div>
    </div>
</aura:component>