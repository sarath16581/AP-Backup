<!--
 @description
 The case creation form via chasMissingItemWizard
 @changelog : Change made for roll out of Safe Drop feature on Missing Items form 
 2020-07-06 : 1. Modified the CONTINUE and BACK button UI styling.
              2. Added a outer-box card layout
              3. Added error summary markup inside the card layout
 2021-02-04 : Created : AME address validation for address fields on all of the H&S forms
 2021-07-21 : Hara Sahoo : Added field for sentimental value
 2022-05-19 : Mahesh Parvathaneni : DDS-7472: When consignment API returns 404, show the warning message
-->
<aura:component extends="c:SS_uiWizardPage" controller="ChasEDDServiceEstimates" implements="flexipage:availableForAllPageTypes,forceCommunity:availableForAllPageTypes" description="Missing Items wizard page 2: Item details (capture details)">
    
    <!-- Adobe Analytics Tracking Helpers -->
    <!-- 29th Jan 2021- Hara.sahoo@auspost.com.au- Removed reference to onInit, since there is no definition for it in the controller -->
    <!--<ltng:require scripts="{!$Resource.GlobalAssets + '/js/lightning/adobeAnalyticsHelper.js'}" afterScriptsLoaded="{!c.onInit}" />-->
    <ltng:require scripts="{!$Resource.GlobalAssets + '/js/lightning/adobeAnalyticsHelper.js'}" />
    <aura:registerEvent name="adobeAnalyticsInterfaceEvent" type="c:adobeAnalyticsInterfaceEvent"/>
    <aura:attribute name="isModalOpen" type="boolean" default="false"/>

    <!-- If we want to change the order of Radion Buttons, change the order but dont swap/change the Ids-->
    <aura:attribute name="recipientOrSenderRadioGroup" type="List"
                    default="[
                             {'label':'Recipient', image:'','id':'firstRadio'},
                             {'label':'Sender', image:'','id':'secondRadio'}
                             ]"
                    description='The radio button label and its image URL to display'/>
    
    <!-- If we want to change the order of Radion Buttons, change the order but dont swap/change the Ids-->
    <aura:attribute name="parcelOrLetterRadioGroup" type="List"
                    default="[
                             {'label':'Parcel', image:'','id':'thirdRadio'},
                             {'label':'Letter', image:'','id':'fourthRadio'}
                             ]"
                    description='The radio button label and its image URL to display'/>
    
    <!-- If we want to change the order of Radion Buttons, change the order but dont swap/change the Ids-->
    <aura:attribute name="domesticParcelSentTypeRadioGroup" type="List"
                    default="[
                             {'label':'Regular Post', image:'','id':'fifthRadio'},
                             {'label':'Express Post', image:'','id':'sixthRadio'}
                             ]"
                    description='The radio button label and its image URL to display'/>
    
    <!-- If we want to change the order of Radion Buttons, change the order but dont swap/change the Ids-->
    <aura:attribute name="domesticLetterSentTypeRadioGroup" type="List"
                    default="[
                             {'label':'Regular Post', image:'','id':'fifthRadio'},
                             {'label':'Express Post', image:'','id':'sixthRadio'},
                             {'label':'Registered Post', image:'','id':'seventhRadio'}
                             ]"
                    description='The radio button label and its image URL to display'/>
    
    <!-- If we want to change the order of Radion Buttons, change the order but dont swap/change the Ids-->
    <aura:attribute name="internationalSentTypeRadioGroup" type="List"
                    default="[
                             {'label':'Courier', image:'','id':'tenthRadio'},
                             {'label':'Express', image:'','id':'eleventhRadio'},
                             {'label':'Economy Air', image:'','id':'thirteenthRadio'},
                             {'label':'Economy Sea', image:'','id':'fourteenthRadio'}
                             ]"
                    description='The radio button label and its image URL to display'/>
    <!-- RSolomon Added to handle pharma related strategic solution -->
    <aura:attribute name="pharmaRadioGroup" type="List"
                    default="[
                             {'label':'Yes', image:'','id':'fifteenthRadio'},
                             {'label':'No', image:'','id':'sixteenthRadio'}
                             ]"
                    description='The radio button label and its image URL to display'/>
    <aura:attribute name="reasonForEnquiry" type="List"
                    default="[
                             {'label':'Location of the parcel is unclear from the photo', image:'','id':'seventeenthRadio'},
                             {'label':'Location shown is not at the correct delivery address', image:'','id':'eighteenthRadio'},
                             {'label':'Parcel is no longer in the location shown', image:'','id':'nineteenthRadio'},
                             {'label':'Other', image:'','id':'twentythRadio'}
                             ]"
                    description='The radio button label and its image URL to display'/>
    <!-- HaraSahoo Added to handle items having a sentimental value example a legal document, amount > 1000$  -->                
    <aura:attribute name="sentimentalValueRadioGroup" type="List"
                    default="[
                            {'label':'Yes', image:'','id':'yesSVRadio'},
                            {'label':'No', image:'','id':'noSVRadio'}
                             ]"
                    description='The radio button label to hold the values for sentimental field'/>
    
    <aura:attribute name="checkInputsOnRender" type="Boolean" default="true"/>
    <aura:attribute name="showErrorSummary" type="Boolean" default="false"/>
    <aura:attribute name="displaySection" type="String" default=""/>
    
    <!-- AME attributes-->
    <aura:attribute name="showError" type="Boolean" />
    <aura:attribute name="recipientShowError" type="Boolean" />
    <aura:attribute name="error" type="String" default=''/>
    <aura:attribute name="fieldError" type="String" default=''/>
    <aura:attribute name="inputError" type="Boolean" default="false"/>
    <aura:attribute name="inputFieldError" type="Boolean" default="false"/>
    <aura:attribute name="isOverriden" type="Boolean" default="false"/>
    
    <aura:handler name="chasGenComponentEvent" event="c:chasGenComponentEvent" action="{!c.onchange}"/>
    <aura:handler name="render" value="{!this}" action="{!c.onRender}"/>
    <aura:handler name="init" value="{!this}" action="{!c.init}"/>
    <!-- first check for the status to display the sections, so that we can determine what to display at the first step based on the status received -->
    <aura:if isTrue="{! and(v.displaySection == 'START' , not(v.wizardData.trackingNumSerachStatusCode == 404))}">
            <div class="left-padding">
                <img src="sfsites/c/resource/ChasIcons/chas-icons/pngs/UI/icons/back_arrow.png" alt="Go back"/><label>&nbsp;</label>
                <lightning:button label="BACK" variant="base" onclick="{!c.goBack}" class="goBack"/>
            </div>
            <legend class="chas-header left-padding">
                <h2>Item details</h2>
            </legend>
            <c:ChasForm customStyle="left-padding">
                <div class="card-layout">
                    <!--Tracking Number display -->
                    <aura:if isTrue="{!v.wizardData.eddStatus == 'NO_EDD'}">
                        <c:ChasDeflectionMessage trackingId="{!v.wizardData.trackingId}" weNoticed="false">
                            <c:ChasBspDeflection heading='Still waiting?'>
                                <div class="outer-box-fonts">
                                    <p>
                                        Most late items arrive within 5 business days of the expected delivery date. Calculate
                                        your <a
                                                onclick="{!c.calculateDeliveryTime}">expected delivery date.
                                        <lightning:icon iconName="utility:new_window" alternativeText="New tab"
                                                        size="xx-small"/>
                                        </a>
                                    </p>
                                </div>
                            </c:ChasBspDeflection>
                            <c:ChasDuplicateCaseMessage duplicateCase="{!v.wizardData.duplicateCase}"/>
                        </c:ChasDeflectionMessage>
                    </aura:if>
                    <aura:if isTrue="{!v.wizardData.eddStatus == 'DELIVERED'}">
                        <c:ChasDeflectionMessage trackingId="{!v.wizardData.trackingId}" weNoticed="true">
                            <div class="outerBox">
                                <h3 class="box-header text-green-medium"> It’s showing as ‘delivered’</h3>
                                <div class="inner-box">
                                    <div class="man-icon"><img
                                                               src="{!$Resource.ChasIcons + '/chas-icons/svgs/UI/icons/ic_man.svg' }"
                                                               alt="man icon"/></div>
                                    <div class="iteduplicateCase item-main-line">If you’re the <b>recipient</b>, it’s worth checking:</div>
                                    <div class="item-sub-lines">
                                        <li class="item-sub-line">if someone else at your address accepted or signed for it</li>
                                        <li class="item-sub-line">that the delivery address you provided to the sender was
                                            correct.
                                        </li>
                                    </div>
                                    <div class="man-icon"><img
                                                               src="{!$Resource.ChasIcons + '/chas-icons/svgs/UI/icons/ic_man_reverse.svg' }"
                                                               alt="man icon"/></div>
                                    <div class="item-main-line">If you’re the <b>sender</b>, please check that the delivery
                                        address was written or entered correctly.
                                    </div>
                                </div>
                            </div>
                            <c:ChasDuplicateCaseMessage duplicateCase="{!v.wizardData.duplicateCase}"/>
                        </c:ChasDeflectionMessage>
                    </aura:if>
                    <aura:if isTrue="{!v.wizardData.eddStatus == 'LATE'}">
                        <c:ChasDeflectionMessage trackingId="{!v.wizardData.trackingId}" weNoticed="false">
                            <c:ChasBspDeflection heading='Still waiting?'>
                                <div class="outer-box-fonts">
                                    <p>
                                        Most late items arrive within 5 business days of the expected delivery date. Calculate your <a
                                                                                                                                    onclick="{!c.calculateDeliveryTime}">expected delivery date.
                                        <lightning:icon iconName="utility:new_window" alternativeText="New tab"
                                                        size="xx-small"/>
                                        </a>
                                    </p>
                                </div>
                            </c:ChasBspDeflection>
                            <c:ChasDuplicateCaseMessage duplicateCase="{!v.wizardData.duplicateCase}"/>
                        </c:ChasDeflectionMessage>
                    </aura:if>
                    <aura:if isTrue="{!v.wizardData.eddStatus == 'ON_TIME'}">
                        <c:ChasDeflectionMessage trackingId="{!v.wizardData.trackingId}" weNoticed="true">
                            <c:ChasBspDeflection heading='' noInfoIcon="true">
                                <h3 class="text-blue-medium">
                                    Estimated delivery by
                                    <lightning:formattedDateTime day="2-digit"  value="{!v.wizardData.deliveredByDateOrEDD}" />-<lightning:formattedDateTime month="2-digit"  value="{!v.wizardData.deliveredByDateOrEDD}" />-<lightning:formattedDateTime year="numeric"  value="{!v.wizardData.deliveredByDateOrEDD}" />
                                </h3>
                                <p class="outer-box-fonts">
                                    It’s still on track to arrive by this date.
                                </p>
                            </c:ChasBspDeflection>
                            <c:ChasDuplicateCaseMessage duplicateCase="{!v.wizardData.duplicateCase}"/>
                        </c:ChasDeflectionMessage>
                    </aura:if>
                    <aura:if isTrue="{!v.wizardData.eddStatus == 'NO_SCANS'}">
                        <c:ChasDeflectionMessage trackingId="{!v.wizardData.trackingId}" weNoticed="false">
                            <c:ChasBspDeflection heading='' noInfoIcon="true" >
                                <div class="outer-box-fonts outer-box-border-bottom">
                                    <h3 class="text-brown-medium">
                                        It hasn’t been scanned yet
                                    </h3>
                                    <p>
                                        This item may not have been been posted yet, or the way it was posted meant we couldn’t scan
                                        it straight away (e.g. street posting box, bulk mail lodgement).
                                    </p><br></br>
                                    <p>
                                        We should have a tracking update within the next 24 to 48 hours.
                                    </p>
                                </div>
                            </c:ChasBspDeflection>
                            <c:ChasDuplicateCaseMessage duplicateCase="{!v.wizardData.duplicateCase}"/>
                        </c:ChasDeflectionMessage>
                    </aura:if>
                    <aura:if isTrue="{!v.wizardData.eddStatus == 'SAFE_DROP'}">
                        <c:ChasDeflectionMessage trackingId="{!v.wizardData.trackingId}" weNoticed="true">
                            <div class="outerBox">
                                <h3 class="box-header text-green-medium"> It was left in a safe place</h3>
                                <div class="box-seperator-gap"> Looks like the postie left this item in a safe place at the delivery address.
                                </div>
                                <div class="inner-box">
                                    <div class="man-icon"><img
                                                               src="{!$Resource.ChasIcons + '/chas-icons/svgs/UI/icons/ic_man.svg' }"
                                                               alt="man icon"/></div>
                                    <div class="item-main-line">If you’re the <b>recipient</b>, it’s worth checking:</div>
                                    <div class="item-sub-lines">
                                        <li class="item-sub-line">if it’s in your letterbox, under the carport or verandah, or
                                            at the side gate
                                        </li>
                                        <li class="item-sub-line">that the delivery address you provided to the sender was
                                            correct.
                                        </li>
                                    </div>
                                    <div class="man-icon"><img
                                                               src="{!$Resource.ChasIcons + '/chas-icons/svgs/UI/icons/ic_man_reverse.svg' }"
                                                               alt="man icon"/></div>
                                    <div class="item-main-line">If you’re the <b>sender</b>, please check that the delivery
                                        address was written or entered correctly.
                                    </div>
                                </div>
                            </div>
                            <c:ChasDuplicateCaseMessage duplicateCase="{!v.wizardData.duplicateCase}"/>
                        </c:ChasDeflectionMessage>
                    </aura:if>
                    <aura:if isTrue="{!v.wizardData.eddStatus == 'AWAITING_COLLECTION'}">
                        <c:ChasDeflectionMessage trackingId="{!v.wizardData.trackingId}">
                            <div class="outerBox">
                                <h3 class="box-header text-green-medium"> It's awaiting collection</h3>
                                <div class="outer-box-fonts">
                                    <p>
                                        Looks like this item is ready for collection at:
                                    </p>
                                    <br></br>
                                    <p>
                                        {!v.wizardData.latestEventLocation}
                                    </p>
                                    <p>
                                        <a href="https://auspost.com.au/locate" target="_blank" class="text-black-link">View location &amp; collection hours.</a>
                                    </p>
                                </div>
                            </div>
                            <c:ChasDuplicateCaseMessage duplicateCase="{!v.wizardData.duplicateCase}"/>
                        </c:ChasDeflectionMessage>
                    </aura:if>
                    <aura:if isTrue="{!v.wizardData.eddStatus == 'ONBOARD_FOR_DELIVERY'}">
                        <c:ChasDeflectionMessage trackingId="{!v.wizardData.trackingId}">
                            <c:ChasBspDeflection heading='' noInfoIcon="true">
                                <h3 class="box-header text-green-medium"> It's arriving today</h3>
                                <div class="outer-box-fonts">
                                    <p>
                                        Looks like this item is on board with the driver for delivery today.
                                    </p>
                                </div>
                            </c:ChasBspDeflection>
                            <c:ChasDuplicateCaseMessage duplicateCase="{!v.wizardData.duplicateCase}"/>
                        </c:ChasDeflectionMessage>
                    </aura:if>
                    <div>
                        <c:ChasNavButtons nextLabel="Continue" disabled="false" nextAction="{! c.goStartCreateCase }"/>
                    </div>
                </div>
            </c:ChasForm>
    </aura:if>
    
    <aura:if isTrue="{!or( v.displaySection == 'START_CASE_CREATE', v.wizardData.trackingNumSerachStatusCode == 404)}">
        
        <!-- Case creation form uplift- Start scenario 1 - Normal flow-->
        <!--Go back button-->
        <div class="left-padding">
            <img src="sfsites/c/resource/ChasIcons/chas-icons/pngs/UI/icons/back_arrow.png" alt="Go back"/><label>&nbsp;</label>
            <lightning:button label="BACK" variant="base" onclick="{!c.goBack}" class="goBack"/>
        </div>
        <legend class="chas-header left-padding">
            <h2>Item details</h2>
        </legend>
        <c:ChasForm customStyle="left-padding">
            
            <div class="card-layout">
                <!--Error summary-->
                <aura:if isTrue="{! v.showErrorSummary }">
                    <c:ChasErrorSummary aura:id="chasErrorSummary" errors="{! v.errors }"/>
                </aura:if>
                <aura:if isTrue="{! v.wizardData.trackingNumSerachStatusCode == 404}">
                    <c:ChasBspDeflection heading='Still waiting?' hasClose="true" borderStyle="info-box bottom-gap">
                        <div class="outer-box-fonts">
                            <p>
                                Most late items arrive within 5 business days of the expected delivery date. Calculate
                                your <a
                                        onclick="{!c.calculateDeliveryTime}">expected delivery date.
                                <lightning:icon iconName="utility:new_window" alternativeText="New tab"
                                                size="xx-small"/>
                                </a>
                            </p>
                        </div>
                    </c:ChasBspDeflection>
                    <!-- Invalid Tracking Number Message -->
                    <div class="tracking-error">
                        <c:ChasBspDeflection noInfoIcon="true" hasClose="true" borderStyle="info-box bottom-gap" iconLink="{!$Resource.ChasIcons + '/chas-icons/svgs/UI/icons/chas-warn-circle.svg'}">
                            <p class="message-text">We couldn't find this tracking number in our records. Please <a class="back-link" onclick="{!c.goBack}">go back</a> and check the tracking number and then continue.</p>
                        </c:ChasBspDeflection>
                    </div>
                </aura:if>
                <div class="form-input-container">
                    <!--<c:ChasFieldset label="Confirm item details">-->
                    <legend class="item-label">
                        <h3>Confirm item details</h3>
                    </legend> 
                    <!--Tracking Number display -->
                    <div class="chas-output">
                        <label for="trackingId" class="slds-form-element__label">Tracking number</label>
                        <div id="trackingId">{!v.wizardData.trackingId}</div>
                    </div>
                    
                    
                    
                    <!--Display the delivery address type display, if entered by the user manual or returned from the AME service -->
                    <aura:if isTrue="{!v.wizardData.correctDeliveryAddress != null}">
                        <div class="chas-output">
                            <label for="address" class="slds-form-element__label">Delivery address</label>
                            <div id="address">{!v.wizardData.correctDeliveryAddress}</div>
                        </div>
                        <!-- Else present the set of fields for manual entry-->
                        <aura:set attribute="else">
                            <!-- Recipient Address : for International Sender/Recipient-->
                            <aura:if isTrue="{!v.wizardData.senderOrRecipientType == 'International'}">
                                <c:ChasSelect aura:id='chasInput' name='recipientCountry' required="true" label='Country'
                                              options="{!v.countryOptions}" hasGroups="true"
                                              value='{!v.wizardData.recipientCountry}'/>
                                <!-- Recipient Address Line 1-->
                                <c:ChasInput type='text' aura:id="chasInput" name='recipientAddressLine1' required="true"
                                             label='Address line 1' value='{!v.wizardData.recipientAddressLine1}'/>
                                <!-- Recipient Address Line 2-->
                                <c:ChasInput type='text' name='recipientAddressLine2' required="false" label='Address line 2'
                                             subLabel='(optional)' value='{!v.wizardData.recipientAddressLine2}'/>
                                <!-- Recipient City/State/Postcode-->
                                <c:ChasInput type='text' name='recipientCityOS' required="false" label='City or town'
                                             subLabel='(optional)' value='{!v.wizardData.recipientCity}'/>
                                <c:ChasInput type='text' name='recipientStateOS' required="false"
                                             label='Province/state/county' subLabel='(optional)'
                                             value='{! v.wizardData.recipientState}'/>
                                <c:ChasInput type='text' name='recipientPostcodeOS' required="false" label='Postcode or ZIP'
                                             subLabel='(optional)' value='{! v.wizardData.recipientPostcode}' short="true"/>
                                <!-- Recipient Address : for Domestic users-->
                                <aura:set attribute='else'>
                                    <div id="AMERecipientAddress" name="AMERecipientAddress" class="AMEAddress">
                                        <c:ChasErrorMessages error="{! v.fieldError }" showError="{! v.recipientShowError }"/>
                                        <!-- Recipient delivery address-->
                                        <c:chasMissingItemAddressLookup aura:id="searchAddress" label="Delivery address" searchAddressTerm="{!v.wizardData.recipientDeliveryAddress}"
                                                                        inputFieldError="{!v.inputFieldError}" inputError="{!v.inputError}" 
                                                                        errorMessage="{!v.errorMessage}" onshowError="{!c.getRecipientShowError}" 
                                                                        onvaluechange="{!c.getRecipientOverrideAddress}" onsearchtermchange="{!c.getRecipientSelectedAddress}" 
                                                                        onaddressOverride="{!c.checkOverride}" onaddressTyped="{!c.getRecipientAddressTyped}"/>
                                    </div>
                                </aura:set>
                            </aura:if>
                            <!-- Recipient Address Line 1-->
                            <!--<c:ChasInput type='text' aura:id="chasInput" name='recipientAddressLine1' required="true"
                                         label='Address line 1' value='{!v.wizardData.recipientAddressLine1}'/>-->
                            
                            <!-- Recipient Address Line 2-->
                            <!--<c:ChasInput type='text' name='recipientAddressLine2' required="false" label='Address line 2'
                                         subLabel='(optional)' value='{!v.wizardData.recipientAddressLine2}'/>-->
                            
                            <!-- Recipient City-->
                            <!--<aura:if
                                     isTrue="{!v.wizardData.senderOrRecipientType == 'International'}">
                                <c:ChasInput type='text' name='recipientCityOS' required="false" label='City or town'
                                             subLabel='(optional)' value='{!v.wizardData.recipientCity}'/>
                                <aura:set attribute='else'>
                                    <c:ChasInput type='text' aura:id='chasInput' name='recipientCityAU' required="true"
                                                 label='Suburb or city' value='{!v.wizardData.recipientCity}'/>
                                </aura:set>
                            </aura:if>-->
                            <!-- Recipient State and Postcode-->
                            <!--<aura:if isTrue="{!v.wizardData.senderOrRecipientType == 'International'}">
                                <c:ChasInput type='text' name='recipientStateOS' required="false"
                                             label='Province/state/county' subLabel='(optional)'
                                             value='{! v.wizardData.recipientState}'/>
                                <c:ChasInput type='text' name='recipientPostcodeOS' required="false" label='Postcode or ZIP'
                                             subLabel='(optional)' value='{! v.wizardData.recipientPostcode}' short="true"/>
                                <aura:set attribute='else'>
                                    
                                    <div class="slds-grid-address">
                                        <div class="slds-col state-col-width">
                                            <c:ChasSelect aura:id='chasInput' name='recipientStateAU' required="true"
                                                          label='State' options="{!v.stateOptions}"
                                                          value='{!v.wizardData.recipientState}' short="true"/>
                                        </div>
                                        
                                        <div class="slds-col postcode-col-width col-separator">
                                            <c:ChasInput type='text' aura:id='chasInput' name='recipientPostcodeAU'
                                                         required="true" label='Postcode' pattern="[0-9]*"
                                                         value='{!v.wizardData.recipientPostcode}' short="true"/>
                                        </div>
                                    </div>
                                </aura:set>
                            </aura:if>-->
                            
                        </aura:set>
                    </aura:if>
                    
                    <!-- Parcel Or Letter Radio Button Group-->
                    <c:ChasRadioButtons
                                        aura:id="chasInput"
                                        name="parcelOrLetterRadioButtons"
                                        required="true"
                                        label="Item type"
                                        options="{!v.parcelOrLetterRadioGroup}"
                                        value="{!v.wizardData.selectedRadio2}"/>
                    
                    <aura:if isTrue="{!and(v.wizardData.senderOrRecipientType =='Domestic',or(v.wizardData.selectedRadio2Name ==null, v.wizardData.selectedRadio2Name =='Parcel'))}">
                        
                        <c:ChasRadioButtons
                                            aura:id="chasInput"
                                            name="domesticParcelSentTypeRadioButtons"
                                            required="true"
                                            label="Delivery service"
                                            options="{!v.domesticParcelSentTypeRadioGroup}"
                                            value="{!v.wizardData.selectedRadio3}"/>
                        <aura:set attribute='else'>
                            <aura:if isTrue="{!v.wizardData.senderOrRecipientType =='Domestic'}">
                                <c:ChasRadioButtons
                                                    aura:id="chasInput"
                                                    name="domesticLetterSentTypeRadioButtons"
                                                    required="true"
                                                    label="Delivery service"
                                                    options="{!v.domesticLetterSentTypeRadioGroup}"
                                                    value="{!v.wizardData.selectedRadio3}"/>
                            </aura:if>
                        </aura:set>
                    </aura:if>
                    <aura:if isTrue="{!v.wizardData.senderOrRecipientType =='International'}">
                        <c:ChasRadioButtons
                                            aura:id="chasInput"
                                            name="internationalParcelSentTypeRadioButtons"
                                            required="true"
                                            label="Delivery service"
                                            options="{!v.internationalSentTypeRadioGroup}"
                                            value="{!v.wizardData.selectedRadio3}"/>
                    </aura:if>
                    
                    <c:ChasInput type='date' aura:id='chasInput' name='ChasItemSentDate' required="true"
                                 label='Date of posting' value='{! v.wizardData.itemSentDate }'
                                 helptext="If you're unsure, please check with the sender or provide your best estimate."
                                 short="true" placeholder="DD/MM/YYYY"/>
                    <!--Item value input -->
                    <c:ChasInput type='number' aura:id="chasInput"  name='ChasItemValue' required="false" subLabel='(optional)'
                                 label='Item value' value='{! v.wizardData.itemValue}'
                                 short="true" prefix="$">
                        <p class="chas-body_small">e.g. $25.00</p>
                    </c:ChasInput>
                    <c:ChasRadioButtons
                                        aura:id="chasInput"
                                        name="pharmaRadioButtons"
                                        required="true"
                                        label="Does the item contain essential medication?"
                                        options="{!v.pharmaRadioGroup}"
                                        value="{!v.wizardData.selectedRadio4}"/>
                    <!--Sentimetal Value-->
                    <c:ChasRadioButtons
                                        aura:id="chasInput"
                                        name="sentimentalValueRadioButtons"
                                        required="true"
                                        label="Is the item urgent, sentimental or high value?"
                                        helptext="E.g. A legal document, passport or currency for urgent travel, item for a wedding or funeral, or an item that can't be replaced."
                                        options="{!v.sentimentalValueRadioGroup}"
                                        value="{!v.wizardData.selectedSenti}"/>
                    <!-- Contents Description-->
                    <c:chasTextArea  aura:id="chasInput" name="chasContentDescription" required="true"
                                    label="Description of contents" value="{!v.wizardData.issueDetails}">
                        <p class="chas-body_small" style="margin-bottom:-25px">This will help us find the item, or speed up a compensation claim if that’s required.</p>
                    </c:chasTextArea>
                </div>
            </div>
            <!-- Section separator-->
            <!--<div class="box-seperator-gap">
            </div>-->
            <div class="card-layout box-seperator-gap" >
                <div class="form-input-container">
                    <legend class="chas-header_small">
                        <h3>Enquiry details</h3>
                    </legend>
                    
                    <!-- Recipient/Sender Radio Buttions Group-->
                    <c:ChasRadioButtons
                                        aura:id="chasInput"
                                        name="recipientOrSenderRadioButtons"
                                        required="true"
                                        label="Are you the recipient or sender?"
                                        options="{!v.recipientOrSenderRadioGroup}"
                                        value="{!v.wizardData.selectedRadio1}"/>
                    <!-- Business Deflection login screen -->
                    <aura:if isTrue="{!v.wizardData.selectedRadio1Name == 'Sender'}">
                        <c:ChasBspDeflection heading='Business customer?' animate="true" borderStyle="info-box bottom-gap">
                            <p>
                                Log in to the <a onclick="{!c.navToBsp}">Business Support Portal</a> to access priority
                                support, track items and manage your enquiries 24/7.
                            </p>
                        </c:ChasBspDeflection>
                    </aura:if>
                    <!--Your/Sender Addess ............ START -->
                    <!-- Changed below if condition on 4/10/2018 for International Missing Item Changes.
                         To provide form fields when user enters International tracking number and selects Recipient. -->
                    <aura:if isTrue="{!v.wizardData.selectedRadio1Name == 'Sender'}">
                        <div id="AMEDeliveryAddress" name="AMEDeliveryAddress" class="AMEAddress">
                            <c:ChasErrorMessages error="{! v.error }" showError="{! v.showError }"/>
                            <!-- Sender delivery address-->
                            <c:chasMissingItemAddressLookup aura:id="searchAddress" label="Sender's address" searchAddressTerm="{!v.wizardData.selectedDeliveryAddress}"
                                                            inputFieldError="{!v.inputFieldError}" inputError="{!v.inputError}" 
                                                            errorMessage="{!v.errorMessage}" onshowError="{!c.getShowError}" 
                                                            onvaluechange="{!c.getOverrideAddress}" onsearchtermchange="{!c.getSelectedAddress}" 
                                                            onaddressOverride="{!c.checkOverride}" onaddressTyped="{!c.getAddressTyped}"/>
                        </div>
                        <!--<c:ChasFieldset label="Sender's address" small="true">-->
                        <!--<legend class="item-label">
                            <h3>Sender's address</h3>
                        </legend>-->
                        
                        <!-- Sender Address Line1-->
                        <!--<c:ChasInput type='text' aura:id='chasInput' name='senderAddressLine1' required="true"
                                     label='Address line 1' value='{!v.wizardData.senderAddressLine1}'/>-->
                        
                        <!-- Sender Address Line2-->
                        <!--<c:ChasInput type='text' name='senderAddressLine2' required="false" label='Address line 2'
                                     subLabel='(optional)' value='{! v.wizardData.senderAddressLine2}'/>-->
                        
                        <!-- Sender City-->
                        <!--<c:ChasInput type='text' aura:id='chasInput' name='senderCityAU' required="true"
                                     label='Suburb or city' value='{!v.wizardData.senderCity}'/>-->
                        
                        <!-- Sender State and Postcode -->
                        
                        <!--<div class="slds-grid-address">
                            <div class="slds-col state-col-width">
                                <c:ChasSelect aura:id='chasInput' name='senderStateAU' required="true" label='State'
                                              options="{!v.stateOptions}" value='{!v.wizardData.senderState}'
                                              short="true"/>
                            </div>
                            <div class="slds-col postcode-col-width col-separator">
                                <c:ChasInput type='text' aura:id='chasInput' name='senderPostcodeAU' required="true"
                                             label='Postcode' pattern="[0-9]*"
                                             value='{!v.wizardData.senderPostcode}' short="true"/>
                            </div>
                        </div>-->
                    </aura:if>
                    <!--Your/Sender Addess ............ END -->
                    
                    <!-- Additional Information-->
                    <c:chasTextArea  name="chasContentDescription" required="false" subLabel='(optional)'
                                    label="Additional information" value="{!v.wizardData.complaintDetails}">
                        <p class="chas-body_small">Anything else you think might help us investigate.</p>
                    </c:chasTextArea>
                </div>
                <!-- Case creation form uplift- End-->
                <div>
                    <c:ChasNavButtons nextLabel="Continue" disabled="false" nextAction="{! c.goForward }"/>
                </div>
            </div>
        </c:ChasForm>
    </aura:if>
    
    
</aura:component>