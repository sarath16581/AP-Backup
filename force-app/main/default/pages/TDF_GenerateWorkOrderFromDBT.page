<apex:page docType="html-5.0" standardController="Route_Template__c" extensions="TDF_GenerateWorkOrderFromDBT_ControllerX">
    <apex:form id="formOne">
        <apex:pageMessages />        
        <apex:pageBlock rendered="{!IF(objDutyTemplate.Status__c == 'Active', true, false)}">
            <apex:pageBlockSection title="Create Work Order" rendered="{!hasJobTemplate}">
                Start Date : <apex:input type="date" value="{!startDate}"/>
                End Date : <apex:input type="date" value="{!endDate}"/>
            </apex:pageBlockSection>
            <apex:outputText value="No Duty Template found for current Duty Board" rendered="{!!hasJobTemplate}" style="font-size:x-large;"/>
        </apex:pageBlock>
        <apex:outputPanel rendered="{!IF(objDutyTemplate.Status__c == 'Active', true, false)}">
            <apex:commandButton value="Generate" action="{!createWOandWOLineItem}"  rendered="{!hasJobTemplate}" status="status" reRender="formOne"/>
        </apex:outputPanel>
        <apex:commandButton value="Back" action="{!goBack}"/>        
        <apex:actionStatus id="status">
            <apex:facet name="start">
            <div style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.25; z-index: 1000; background-color: black;">
                &nbsp;
            </div>
            <div style="position: fixed; left: 0; top: 0; bottom: 0; right: 0; z-index: 1001; margin: 15% 50%">
                <div style="display: inline-block; padding: 2px; background-color: #fff; width: 125px; margin-left: -60px;">
                    <img src="/img/loading.gif" /><!--style="float: left; margin: 8px;" /-->
                    <span>Please Wait...</span>
                </div>
            </div>
            </apex:facet>
        </apex:actionStatus>
    </apex:form>
</apex:page>