<!--
  @description       : 
  @author            : Mansi Shah
  @group             : 
  @last modified on  : 07-27-2021
  @last modified by  : Mansi Shah
-->
<template>
    <lightning-card>
        <lightning-layout>
            <lightning-layout-item padding="around-small" size="12" small-device-size="12" medium-device-size="12">
                <div style="text-align:center;font-weight:700;font-size:150%;">
                    <h1>Request Adjustment to Standard Pricing</h1>
                </div>
                <br/><br/>
                <div style="width:100%;padding-left:50px;padding-right:250px;">
                    <p>
                        <b><u>User Guidance</u> - </b><br/>
                        This workflow is to request “Tier Up” pricing for StarTrack, for approval by your Sales Director.   If you need custom rates from the Pricing Team, please raise a Deal Support Request in Salesforce.<br/>
                        This adjustment request will apply to ALL Startrack products in your shopping cart.
                    </p>
                </div>
                <br/>
                <div style="width:100%;padding-left:50px;padding-right:90px;">
                    <p>
                        <b><u>To submit the request</u> - </b><br/>
                        <b>-</b> Complete the details below, being as descriptive as possible to ensure your Sales Director has enough information to review your request.  Attachments can be added later.
                        <br/>
                        <b>-</b> Hit ‘Apply Request’ button 
                        <br/>
                        <b>-</b> Then, from the Shopping Cart, select ‘Submit for Approval’   
                    </p>
                </div>
                <br/>
                <!-- <div style="width:100%;padding-left:50px;padding-right:90px;">
                    <p>
                        <b><u>Button Glossary</u> - </b><br/>
                        <b>Apply -</b> Apply the adjustment to the product line and takes user back to shopping cart page
                        <br/>
                        <b>Cancel Adjustment -</b> Cancel the adjustment that’s been applied to the product line and takes user back to shopping cart page
                        <br/>
                        <b>Return to shopping cart -</b> Takes user back to shopping cart page     
                    </p>
                </div> -->
            
                <div if:true={showValidationError} class="demo-only" style="height:4rem">
                    <div class="slds-notify_container slds-is-relative">
                        <div class="slds-notify slds-notify_toast slds-theme_warning" role="status">
                        <span class="slds-assistive-text">error</span>
                        <div class="slds-notify__content">
                            <h2 class="slds-text-heading_small ">{vaildationFailReason}</h2>
                        </div>
                        <div class="slds-notify__close">
                            <button class="slds-button slds-button_icon slds-button_icon-inverse" onclick={closeerror} title="Close">
                                X
                                <span class="slds-assistive-text">Close</span>
                            </button>
                        </div>
                        </div>
                    </div>
                </div>

                <hr>
                <div class="slds-p-horizontal_small">
                    <lightning-record-edit-form object-api-name="Apttus_Proposal__Proposal__c"  record-id={proposalId} aura:id="recordEditFormForProposal"
                        onsuccess={handleSuccess} onsubmit ={handleSubmit}>
                        <div class="slds-grid slds-wrap">
                            <div class="slds-col slds-size_1-of-2">
                                <lightning-input-field field-name='APT_STE_Pricing_Tier__c' aura:id="proposalField"></lightning-input-field>
                            </div>
                            
                            <!-- <div class="slds-col slds-size_1-of-2"> 
                                <label class="slds-col slds-size_1-of-2" for="pricingtier">Pricing Tier</label>                     
                                <lightning-input-field class="slds-col slds-size_1-of-2" field-name='APT_STE_Pricing_Tier__c' label='Pricing Tier' variant="label-hidden" aura:id="pricingtier"></lightning-input-field>
                            </div> -->
                            <div class="slds-col slds-size_1-of-2">
                                <lightning-input-field field-name='APT_Tier_Adjustment_Type__c' label='Adjustment Type' aura:id="proposalField" required></lightning-input-field>
                            </div>
                            <div class="slds-col slds-size_1-of-2">
                                <lightning-input-field field-name='APT_Pricing_Request_Type__c' value={opttyType} label='Pricing Request Type' aura:id="proposalField"></lightning-input-field>
                            </div>
                            <div class="slds-col slds-size_1-of-2">
                                <lightning-input-field field-name='APT_Tier_Adjustment_Justification__c' label='Sales Justification for Pricing Adjustment' aura:id="proposalField" required></lightning-input-field>
                            </div>
                            <div class="slds-col slds-size_1-of-2">
                                <lightning-input-field field-name='APT_Customer_Background__c' label='Customer Background?' aura:id="proposalField" required></lightning-input-field>
                            </div>
                            <div class="slds-col slds-size_1-of-2">
                                <lightning-input-field field-name='APT_Conversation__c' label='conversation have you had with customer?' aura:id="proposalField" required></lightning-input-field>
                            </div>
                            <div class="slds-col slds-size_1-of-2">
                                <lightning-input-field field-name='APT_competitor__c' label='Who the competitor(s) - if any?' aura:id="proposalField"></lightning-input-field>
                            </div>
                            <div class="slds-col slds-size_1-of-2">
                                <lightning-input-field field-name='APT_Intermediary__c' label='Is the customer an Intermediary' aura:id="proposalField"></lightning-input-field>
                            </div>
                            <div class="slds-col slds-size_1-of-2">
                                <lightning-input-field field-name='APT_Name_of_Intermediary_s_Client__c' label='Name of Intermediarys Client' aura:id="proposalField"></lightning-input-field>
                                <!-- <lightning-helptext content="You'll receive weekly updates"></lightning-helptext> -->
                            </div>
                        </div>
                        <hr style="margin: 0.8rem;">
                        <div class="slds-grid slds-wrap  slds-align_absolute-center">
                            <div>
                                <lightning-button class="slds-m-top_small slds-p-left_large" variant="brand" type="submit" label="Apply Request" onclick={handleSubmit}></lightning-button>
                            </div>
                            <div>
                                <lightning-button class="slds-m-top_small slds-p-left_large" variant="brand" label="Return to Cart" onclick={handleCancel} disabled={disableCancel} ></lightning-button> 
                            </div>
                            <div>
                                <lightning-button class="slds-m-top_small slds-p-left_large" variant="brand" label="Cancel Adjustment" onclick={handleReset}></lightning-button> 
                            </div>
                            <!--<div class="slds-col slds-size_4-of-12">
                                
                            </div>

                            <div class="slds-col slds-size_4-of-12 slds-grid slds-wrap" > 
                                <div class="slds-size--4-of-12 slds-xx-small-size--4-of-12 slds-x-small-size--4-of-12 slds-medium-size--4-of-12 slds-large-size--4-of-12 slds-x-large-size--4-of-12">
                                    <lightning-button class="slds-m-top_small" variant="brand" type="submit" label="Apply Request" onclick={handleSubmit}></lightning-button> 

                                </div>
                                <div class="slds-size--4-of-12 slds-xx-small-size--4-of-12 slds-x-small-size--4-of-12 slds-medium-size--4-of-12 slds-large-size--4-of-12 slds-x-large-size--4-of-12">
                                    <lightning-button class="slds-m-top_small" variant="brand" label="Return to Cart" onclick={handleCancel} disabled={disableCancel} ></lightning-button> 

                                </div>
                                <div class="slds-size--4-of-12 slds-xx-small-size--4-of-12 slds-x-small-size--4-of-12 slds-medium-size--4-of-12 slds-large-size--4-of-12 slds-x-large-size--4-of-12">
                                    <lightning-button class="slds-m-top_small" variant="brand" label="Cancel Adjustment" onclick={handleReset}></lightning-button> 

                                </div>
                                
                            </div>

                            <div class="slds-col slds-size_4-of-12">
                                
                            </div>-->
                        </div>
                                            

                    </lightning-record-edit-form>
                    <lightning-spinner variant="brand" alternative-text="Loading" size="large" if:true={isLoadingSpinner}>

                    </lightning-spinner>
                </div>
            </lightning-layout-item>
        </lightning-layout>
    </lightning-card>
</template>