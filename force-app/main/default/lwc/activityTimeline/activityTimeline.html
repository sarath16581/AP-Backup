<!-- Activity Timeline -->
<template>
    <ul class="slds-timeline">
        <template if:true={allActivities}>
            <template for:each={allActivities} for:item="activity">
                <li key={activity.actId}>
                    <div class="slds-timeline__item_expandable slds-timeline__item_task slds-section slds-is-close" data-id={activity.actId}>
                        <span class="slds-assistive-text">task</span>
                        <div class="slds-media">
                            <div class="slds-media__figure">
                                <button class="slds-button slds-button_icon" title="Toggle details for Review proposals for EBC deck with larger team and have marketing review this" data-buttonid={activity.actId} aria-controls={activity.actId} aria-expanded="true" onclick={toggleSection}>
                                    <lightning-icon class="slds-icon slds-icon_small" icon-name="utility:switch"
                                                    alternative-text="Expand" title="Expand" size="x-small">
                                    </lightning-icon>
                                </button>
                                <div class="slds-icon_container slds-icon-standard-task slds-timeline__icon" title="task">
                                    <lightning-icon class="slds-icon slds-icon_small" icon-name={activity.icon}
                                                    alternative-text="Task" title="Task" size="small">
                                    </lightning-icon>
                                </div>
                            </div>
                            <div class="slds-media__body">
                                <div class="slds-grid slds-grid_align-spread slds-timeline__trigger">
                                    <div class="slds-grid slds-grid_vertical-align-center slds-truncate_container_75 slds-no-space">
                                        <h3 class="slds-truncate" title={activity.title}>
                                            <strong>{activity.title}</strong>
                                        </h3>
                                    </div>
                                    <div class="slds-timeline__actions slds-timeline__actions_inline">
                                        <lightning-formatted-date-time value={activity.createdDate}></lightning-formatted-date-time>
                                    </div>
                                </div>
                                <p class="slds-m-horizontal_xx-small">You had a task</p>
                                <div class="slds-box slds-timeline__item_details slds-theme_shade slds-m-top_x-small slds-m-horizontal_xx-small slds-p-around_medium" aria-hidden="false">
                                    <ul class="slds-list_horizontal slds-wrap">
                                        <li class="slds-grid slds-grid_vertical slds-size_1-of-2 slds-p-bottom_small">
                                            <span class="slds-text-title slds-p-bottom_x-small">Type</span>
                                            <span class="slds-text-body_medium slds-truncate" title={activity.type}>
                                                {activity.type}
                                            </span>
                                        </li>
                                        <li class="slds-grid slds-grid_vertical slds-size_1-of-2 slds-p-bottom_small">
                                            <span class="slds-text-title slds-p-bottom_x-small">Category</span>
                                            <span class="slds-text-body_medium slds-truncate" title={activity.category}>
                                                {activity.category}
                                            </span>
                                        </li>
                                    </ul>
                                    <div>
                                        <span class="slds-text-title">Description</span>
                                        <template if:true={activity.htmlBody}>
                                            <lightning-formatted-rich-text value={activity.htmlBody}></lightning-formatted-rich-text>
                                        </template>
                                        <template if:false= {activity.htmlBody}>
                                            <br/>
                                            <lightning-formatted-text value={activity.description}></lightning-formatted-text>
                                        </template>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
            </template>
        </template>
    </ul>
</template>