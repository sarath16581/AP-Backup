<!--
 - Created by Thang Nguyen on 25/07/2020.
 -->

<template>
	<div class="slds-box slds-scrollable slds-m-around_medium">

			<table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_col-bordered slds-table_striped">
			<thead>
				<tr class="slds-line-height_reset">
					<th class="" scope="col">
					<div class="slds-truncate">Invoice Number</div>
					</th>
					<template if:true={showTransactionId}>
						<th scope="col">
							<div class="slds-truncate">Transaction ID</div>
						</th>
					</template>		
					<template if:true={showConnote}>
						<th scope="col">
							<div class="slds-truncate">Connote #</div>
						</th>
					</template>		

					<th class="" scope="col">
					<div class="slds-truncate">Amount Claimed ($)</div>
					</th>
					<th class="" scope="col">
					<div class="slds-truncate">Amount Charged ($)</div>
					</th>
					<th class="" scope="col">
					<div class="slds-truncate">Action</div>
					</th>
				</tr>
			</thead>
			<tbody>
					<template for:each={disputeItemList} for:item="disputeItem" for:index="index">
						<tr key={disputeItem.Id} class="slds-hint-parent">						
							<td class="slds-truncate ">
								<lightning-input 
									variant="label-hidden"
									type="text" 
									value={disputeItem.Invoice_Number__c} 
									onchange={onChangeField} 
									max-length="12"
									placeholder="Invoice Number"
									data-id={disputeItem.Id} 
									data-field="Invoice_Number__c">
								</lightning-input>
							</td>
							<template if:true={showTransactionId}>
								<td class="slds-truncate" style="text-wrap: wrap;">
									<lightning-input
										variant="label-hidden" 
										type="text" 
										value={disputeItem.Transaction_ID__c}
										onfocus={handleFocus}
										required
										onchange={onChangeField}
										placeholder="Transaction ID"
										message-when-value-missing="Please enter a Transaction ID which can be found on the invoice"	 
										max-length="50"
										data-id={disputeItem.Id} 
										data-field="Transaction_ID__c">
									</lightning-input>
								</td>
							</template>					
							<template if:true={showConnote}>
								<td class="slds-truncate" style="text-wrap: wrap;">
									<lightning-input 
										variant="label-hidden"
										type="text" 
										value={disputeItem.Connote__c} 
										onfocus={handleFocus}
										required
										onchange={onChangeField}
										placeholder="Connote #"
										message-when-value-missing="Please enter a Consignment Note Number which can be found on the invoice"	 
										max-length="20"
										data-id={disputeItem.Id} 
										data-field="Connote__c">
									</lightning-input>
								</td>
							</template>
							<td class="slds-truncate">
								<lightning-input
									variant="label-hidden"
									value={disputeItem.Amount_Claimed__c}
									data-id={disputeItem.Id}
									onchange={onChangeField}
									type="number"
									formatter="currency"
									message-when-value-missing="Enter the amount claimed"
									message-when-step-mismatch="Your entry isn't a valid increment. Please enter correct format of currency."
									message-when-range-underflow="Amount claimed cannot be a negative value"
									min=".01"
									step=".01"								
									max-length="20"
									placeholder="Amount Claimed"
									data-field="Amount_Claimed__c">
								</lightning-input>
							</td>
							<td class="slds-truncate">
								<lightning-input
									variant="label-hidden"							
									value={disputeItem.Amount__c}
									data-id={disputeItem.Id}
									onchange={onChangeField}
									type="number"
									formatter="currency"
									message-when-value-missing="Enter the amount charged"
									message-when-step-mismatch="Your entry isn't a valid increment. Please enter correct format of currency."
									message-when-range-underflow="Amount charged cannot be a negative value"
									min=".01"
									step=".01"								
									max-length="20"
									placeholder="Amount Charged"
									data-field="Amount__c">
								</lightning-input>
							</td>
							<td class="slds-truncate">
								<lightning-button-icon 
									icon-name="utility:delete"
									alternative-text="Delete" 
									onclick={deleteRow} 
									data-id={disputeItem.Id}>
								</lightning-button-icon>
							</td>
						</tr>
					</template>
			</tbody>
		</table>
		<div class="slds-var-p-top_medium">
			<lightning-button label="Add Row" 
				variant="brand" 
				onclick={addRow}>
			</lightning-button>
		</div>

	</div>
</template>  


