<template>
	<template if:true={loading}>
		<lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
	</template>

	<template if:true={empty}>
		<i>No products selected</i>
	</template>

	<template if:false={empty}>
		<lightning-tree-grid
			columns={gridColumns}
			data={productData}
			key-field="id"
			onrowselection={updateSelectedRows}
			selected-rows={selectedRows}
			expanded-rows={expandedRows}
			hide-checkbox-column={viewing}
			>
		</lightning-tree-grid>
	</template>

	<div style="text-align: right; padding-top: 10px;">
		<template if:true={viewing}>
			<lightning-button variant="brand" label="Edit" onclick={edit}></lightning-button>
		</template>
		
		<template if:true={editing}>
			<lightning-button variant="destructive-text" label="Cancel" onclick={close}></lightning-button>
			&nbsp;&nbsp;&nbsp;&nbsp;
			<lightning-button variant="brand" label="Save" onclick={saveSelection} disabled={disableSave}></lightning-button>
		</template>
	</div>
</template>