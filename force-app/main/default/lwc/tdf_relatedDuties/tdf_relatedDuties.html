<!--
- Created by Alvin on 10/21/21.
-->

<!-- Tdf Related Duties -->
<template>
    <table>
        <thead>
            <tr>
                <th>
                    <lightning-input
                        type="checkbox"
                        variant="label-hidden"
                        name="all"
                        onchange={checkForItem}
                    ></lightning-input>
                </th>
                <th>Arrive</th>
                <th colspan="3">Job Details</th>
                <th>Depart</th>
            </tr>
        </thead>
        <tbody>
            <template for:each={relatedAppointments} for:item="item">
                <tr key={item.record.Id}>
                    <td>
                        <lightning-input
                            type="checkbox"
                            variant="label-hidden"
                            name={item.record.Id}
                            checked={item.isChecked}
                            onchange={checkForItem}
                        ></lightning-input>
                    </td>
                    <td style="width: 250px">
                        <div style="width: 240px">
                            <lightning-input
                                type="datetime"
                                name="SchedStartTime"
                                data-id={item.record.Id}
                                value={item.record.SchedStartTime}
                                variant="label-hidden"
                                onchange={checkupdate}
                            ></lightning-input>
                        </div>
                    </td>
                    <td colspan="3">
                        {item.record.Subject} ({item.record.Street} {item.record.City}
                        {item.record.State} )
                    </td>

                    <td style="width: 250px">
                        <div style="width: 240px">
                            <lightning-input
                                type="datetime"
                                name="SchedEndTime"
                                data-id={item.record.Id}
                                value={item.record.SchedEndTime}
                                variant="label-hidden"
                                onchange={checkupdate}
                            ></lightning-input>
                        </div>
                    </td>
                </tr>
                <tr key={item.id}>
                    <td></td>
                    <td>
                        <div class="slds-p-top_small slds-p-bottom_small">
                            <div><b>Crew</b>: {item.record.Primary_SR__r.Name}</div>
                        </div>
                    </td>
                    <td>
                        <div class="slds-p-top_small slds-p-bottom_small">
                            <div><b>Driver</b>: {item.record.Service_Resource__r.Name}</div>
                        </div>
                    </td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </template>
        </tbody>
    </table>
</template>