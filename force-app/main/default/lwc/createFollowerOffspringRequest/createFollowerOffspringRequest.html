<template>
	<div>
		<template lwc:if={isABNConfirmation}>
			<c-follower-offspring-request-abn-confirmation
					leader-id={recordId}
					is-billing-account={isBillingAccount}
					oncancel={handleCancel}
					onconfirmed={handleEditSubAccount}
			></c-follower-offspring-request-abn-confirmation>
		</template>
		<template lwc:if={isEditView}>
			<c-follower-offspring-request-edit-form
					leader-id={recordId}
					is-billing-account={isBillingAccount}
					sub-account={subAccount}
					oncancel={handleCancel}
					onupsert={refreshListView}
					is-loading={isEditLoading}
			></c-follower-offspring-request-edit-form>
		</template>
		<template lwc:if={isListView}>
			<c-follower-offspring-request-list
					leader-id={recordId}
					is-billing-account={isBillingAccount}
					onedit={handleEditSubAccount}
					onnew={handleNewSubAccount}
					sub-accounts={subAccounts}
					finalised-sub-accounts={finalisedSubAccounts}
					submitted-sub-accounts={submittedSubAccounts}
					ondelete={refreshListView}
					onfinalise={handleFinalise}
					onsubmit={handleSubmit}
					count-finalised={countFinalised}
			></c-follower-offspring-request-list>
		</template>
	</div>
</template>