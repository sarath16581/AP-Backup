<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <assignments>
        <name>assAssign_Vars</name>
        <label>Assign Vars</label>
        <locationX>744</locationX>
        <locationY>433</locationY>
        <assignmentItems>
            <assignToReference>varSRId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sobServiceResource.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varWOId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varFFDId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>sobServiceResource.Fit_For_Duty_Work_Order__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>decFFDExpired</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>assSet_FFD_Id</name>
        <label>Set FFD Id</label>
        <locationX>1794</locationX>
        <locationY>433</locationY>
        <assignmentItems>
            <assignToReference>varFFDId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>decUpdateSAStatus</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>chAssNo</name>
        <choiceText>No</choiceText>
        <dataType>String</dataType>
    </choices>
    <choices>
        <name>chAssYes</name>
        <choiceText>Yes</choiceText>
        <dataType>String</dataType>
    </choices>
    <decisions>
        <name>decCompleted</name>
        <label>Completed?</label>
        <locationX>2026</locationX>
        <locationY>710</locationY>
        <defaultConnectorLabel>N</defaultConnectorLabel>
        <rules>
            <name>outYComp</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varStatus</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Completed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>rlGet_SR_Location</targetReference>
            </connector>
            <label>Y</label>
        </rules>
    </decisions>
    <decisions>
        <description>If current job is not a FFD, and the last check was completed more that 14 hrs ago, or not set on SR (i.e. = 1), then show screen FFD Not Done</description>
        <name>decFFDExpired</name>
        <label>FFD Expired?</label>
        <locationX>848</locationX>
        <locationY>434</locationY>
        <defaultConnector>
            <targetReference>decRest_Break_In_Progress</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>[Default Outcome]</defaultConnectorLabel>
        <rules>
            <name>outPassFFD</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sobWorkOrder.Record_Type_Name__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Fit For Duty</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>decRest_Break_In_Progress</targetReference>
            </connector>
            <label>Pass-FFD</label>
        </rules>
        <rules>
            <name>outFFDExpired</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>sobServiceResource.Fit_For_Duty_Hrs_Since_Passed__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>14.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sobServiceResource.Fit_For_Duty_Hrs_Since_Passed__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varFFDId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>1</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>scnFFD_in_Progress</targetReference>
            </connector>
            <label>Fail-Expired</label>
        </rules>
    </decisions>
    <decisions>
        <name>decPDC_Completed</name>
        <label>PDC Completed?</label>
        <locationX>1336</locationX>
        <locationY>995</locationY>
        <defaultConnector>
            <targetReference>Launch_Collect_Deliver</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Y</defaultConnectorLabel>
        <rules>
            <name>outNPDCC</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sobServiceResource.LocationId</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>scnPDCNC</targetReference>
            </connector>
            <label>N</label>
        </rules>
    </decisions>
    <decisions>
        <description>If PDC and Completed, dont set the SA status in case the WO update fails with error - if error occurs SA must remain incomplete so driver can repeat check</description>
        <name>decPDCComplete</name>
        <label>PDC Completed</label>
        <locationX>1895</locationX>
        <locationY>591</locationY>
        <defaultConnector>
            <targetReference>ruSet_SA_Status</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>N</defaultConnectorLabel>
        <rules>
            <name>outYPDCCompleted</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sobWorkOrder.Record_Type_Name__c</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>PDC</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varStatus</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Completed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>decCompleted</targetReference>
            </connector>
            <label>Y</label>
        </rules>
    </decisions>
    <decisions>
        <name>decRecord_Type</name>
        <label>Type</label>
        <locationX>1337</locationX>
        <locationY>717</locationY>
        <defaultConnector>
            <targetReference>scnOther</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Unknown</defaultConnectorLabel>
        <rules>
            <name>PDC</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sobWorkOrder.Record_Type_Name__c</leftValueReference>
                <operator>StartsWith</operator>
                <rightValue>
                    <stringValue>PDC</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Launch_PDC</targetReference>
            </connector>
            <label>PDC</label>
        </rules>
        <rules>
            <name>decDrop_off_Trailer</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sobWorkOrder.Record_Type_Name__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Drop Off Trailer</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>sfDrop_Trailer</targetReference>
            </connector>
            <label>Drop off Trailer</label>
        </rules>
        <rules>
            <name>decReturn_Vehicle</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sobWorkOrder.Record_Type_Name__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Return Vehicle</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Launch_Return_Vehicle</targetReference>
            </connector>
            <label>Return Vehicle</label>
        </rules>
        <rules>
            <name>decMeal_Break</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sobWorkOrder.Record_Type_Name__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Standard</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sobWorkOrder.IsRestBreak__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Rest_Break</targetReference>
            </connector>
            <label>Rest Break</label>
        </rules>
        <rules>
            <name>outCollect_Deliver</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sobWorkOrder.Record_Type_Name__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Standard</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>decPDC_Completed</targetReference>
            </connector>
            <label>Collect Deliver</label>
        </rules>
    </decisions>
    <decisions>
        <name>decRest_Break_In_Progress</name>
        <label>Rest Break In Progress?</label>
        <locationX>1007</locationX>
        <locationY>427</locationY>
        <defaultConnector>
            <targetReference>decType</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>N</defaultConnectorLabel>
        <rules>
            <name>outYRBIP</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sobServiceResource.Rest_Break_In_Progress__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Job_Type</targetReference>
            </connector>
            <label>Y</label>
        </rules>
    </decisions>
    <decisions>
        <description>If in end status, then display message, else continue</description>
        <name>decStatus</name>
        <label>Status</label>
        <locationX>470</locationX>
        <locationY>435</locationY>
        <defaultConnector>
            <targetReference>luLookup_Service_Resource</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other</defaultConnectorLabel>
        <rules>
            <name>outCompleted</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sobWorkOrder.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Completed</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>scnCompleted</targetReference>
            </connector>
            <label>Completed</label>
        </rules>
        <rules>
            <name>outCannot_Complete</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sobWorkOrder.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cannot Complete</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Cannot_Complete</targetReference>
            </connector>
            <label>Cannot Complete</label>
        </rules>
    </decisions>
    <decisions>
        <name>decType</name>
        <label>Type</label>
        <locationX>1208</locationX>
        <locationY>435</locationY>
        <defaultConnector>
            <targetReference>ruSet_Parent_WO</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other</defaultConnectorLabel>
        <rules>
            <name>outFFD2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>sobWorkOrder.Record_Type_Name__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Fit For Duty</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Launch_Fit_For_Duty</targetReference>
            </connector>
            <label>FFD</label>
        </rules>
    </decisions>
    <decisions>
        <description>If WO Status is Completed, In Progress, or Cannot Complete then set the SA status as well.  
This is done so the SA displayed in the scheduled is updated.</description>
        <name>decUpdateSAStatus</name>
        <label>Update SA Status</label>
        <locationX>1796</locationX>
        <locationY>721</locationY>
        <defaultConnector>
            <targetReference>decCompleted</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>N</defaultConnectorLabel>
        <rules>
            <name>decYUpdStatus</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>varStatus</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Completed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varStatus</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>In Progress</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varStatus</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Cannot Complete</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>decPDCComplete</targetReference>
            </connector>
            <label>Y</label>
        </rules>
    </decisions>
    <decisions>
        <description>If FFD or Rest Break, then allow job to proceed.

If Other, then display rest break in progress message.</description>
        <name>Job_Type</name>
        <label>Job Type</label>
        <locationX>1006</locationX>
        <locationY>622</locationY>
        <defaultConnector>
            <targetReference>scnRest_Break_In_Progress</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other</defaultConnectorLabel>
        <rules>
            <name>outFFDRB</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>sobWorkOrder.Record_Type_Name__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Fit For Duty</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>sobWorkOrder.IsRestBreak__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>decType</targetReference>
            </connector>
            <label>FFD or Rest Break</label>
        </rules>
    </decisions>
    <description>Parent flow for Transport Field Service mobile app. Pass FFDId to RB. Set FFD Duty End. Set FFD as Parent pre complete. With check FFD set on SR. Set Location on WO v2. FFD 14 hrs. No SA updated if PDC complete
TDF Enhance: 19.8.20: Change in layout only</description>
    <interviewLabel>TDF_Perform_Job {!$Flow.CurrentDateTime}</interviewLabel>
    <label>TDF_Perform_Job</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>FieldServiceMobile</processType>
    <recordLookups>
        <name>fuLookup_Work_Order</name>
        <label>Lookup Work Order</label>
        <locationX>306</locationX>
        <locationY>432</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>decStatus</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Id</elementReference>
            </value>
        </filters>
        <object>WorkOrder</object>
        <outputReference>sobWorkOrder</outputReference>
        <queriedFields>Status</queriedFields>
        <queriedFields>Record_Type_Name__c</queriedFields>
        <queriedFields>Parking_Bay__c</queriedFields>
        <queriedFields>User_Remark__c</queriedFields>
        <queriedFields>UserId__c</queriedFields>
        <queriedFields>Trailer_Reg_No_B__c</queriedFields>
        <queriedFields>Trailer_Reg_No_A__c</queriedFields>
        <queriedFields>Job_Instructions__c</queriedFields>
        <queriedFields>IsRestBreak__c</queriedFields>
        <queriedFields>Activity_Type__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <description>And Current Date Time criteria to ensure latest data retreived</description>
        <name>luLookup_Service_Resource</name>
        <label>Lookup Service Resource</label>
        <locationX>627</locationX>
        <locationY>432</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>assAssign_Vars</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Name</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </filters>
        <filters>
            <field>RelatedRecordId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>sobWorkOrder.UserId__c</elementReference>
            </value>
        </filters>
        <object>ServiceResource</object>
        <outputReference>sobServiceResource</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Rest_Break_In_Progress__c</queriedFields>
        <queriedFields>Fit_For_Duty_Hrs_Since_Passed__c</queriedFields>
        <queriedFields>Fit_For_Duty_Passed__c</queriedFields>
        <queriedFields>LastKnownLatitude</queriedFields>
        <queriedFields>LastKnownLongitude</queriedFields>
        <queriedFields>LastKnownLocationDate</queriedFields>
        <queriedFields>LocationId</queriedFields>
        <queriedFields>Fit_For_Duty_Work_Order__c</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>rlGet_SR_Location</name>
        <label>Get SR Location</label>
        <locationX>2035</locationX>
        <locationY>871</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>ruSet_Lat_Long</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varSRId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Name</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </filters>
        <object>ServiceResource</object>
        <outputAssignments>
            <assignToReference>numLatitude</assignToReference>
            <field>LastKnownLatitude</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>dtLastKnownLocDate</assignToReference>
            <field>LastKnownLocationDate</field>
        </outputAssignments>
        <outputAssignments>
            <assignToReference>numLongitude</assignToReference>
            <field>LastKnownLongitude</field>
        </outputAssignments>
    </recordLookups>
    <recordUpdates>
        <description>Set the End location fields on the WO from those just looked up from the SR, and Start with values at start</description>
        <name>ruSet_Lat_Long</name>
        <label>Set Lat Long</label>
        <locationX>2035</locationX>
        <locationY>997</locationY>
        <connector>
            <targetReference>ruSetFFDDutyEnd</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>End_Location_Date__c</field>
            <value>
                <elementReference>dtLastKnownLocDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>End_Location__Latitude__s</field>
            <value>
                <elementReference>numLatitude</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>End_Location__Longitude__s</field>
            <value>
                <elementReference>numLongitude</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Start_Location_Date__c</field>
            <value>
                <elementReference>sobServiceResource.LastKnownLocationDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Start_Location__Latitude__s</field>
            <value>
                <elementReference>sobServiceResource.LastKnownLatitude</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Start_Location__Longitude__s</field>
            <value>
                <elementReference>sobServiceResource.LastKnownLongitude</elementReference>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordUpdates>
    <recordUpdates>
        <description>Set the FFD as the parent WO</description>
        <name>ruSet_Parent_WO</name>
        <label>Set Parent WO</label>
        <locationX>1211</locationX>
        <locationY>715</locationY>
        <connector>
            <targetReference>decRecord_Type</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>ParentWorkOrderId</field>
            <value>
                <elementReference>varFFDId</elementReference>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordUpdates>
    <recordUpdates>
        <name>ruSet_SA_Status</name>
        <label>Set SA Status</label>
        <locationX>2036</locationX>
        <locationY>574</locationY>
        <connector>
            <targetReference>decCompleted</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ParentRecordId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Status</field>
            <value>
                <elementReference>varStatus</elementReference>
            </value>
        </inputAssignments>
        <object>ServiceAppointment</object>
    </recordUpdates>
    <recordUpdates>
        <description>On complete of each job set Duty End on FFD.</description>
        <name>ruSetFFDDutyEnd</name>
        <label>Set FFD Duty End</label>
        <locationX>2035</locationX>
        <locationY>1127</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varFFDId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Duty_End__c</field>
            <value>
                <elementReference>$Flow.CurrentDateTime</elementReference>
            </value>
        </inputAssignments>
        <object>WorkOrder</object>
    </recordUpdates>
    <screens>
        <name>Cannot_Complete</name>
        <label>Cannot Complete</label>
        <locationX>479</locationX>
        <locationY>278</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>txtCannotComplete</name>
            <fieldText>The job has been set to Cannot Complete.

Please select &apos;Next&apos; to exit the flow.</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>scnCompleted</name>
        <label>Completed</label>
        <locationX>482</locationX>
        <locationY>619</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>txtCompleted</name>
            <fieldText>The job has already been completed.

Please select &apos;Next&apos; to exit the flow.</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>scnFFD_in_Progress</name>
        <label>Fit For Duty Check Not Done</label>
        <locationX>857</locationX>
        <locationY>617</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>txtFFDInProg</name>
            <fieldText>A Fit For Duty Check has not been successfully completed.

Please complete your current Fit For Duty Check or report to your supervisor.</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>scnOther</name>
        <label>Process Not Found</label>
        <locationX>1345</locationX>
        <locationY>532</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>txtNoProcess</name>
            <fieldText>No process is available for the selected job.  

Please advise your system administrator.</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>scnPDCNC</name>
        <label>Pre Departure Check Not Completed</label>
        <locationX>1200</locationX>
        <locationY>997</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>txtPDC</name>
            <fieldText>A successful Truck Pre Departure Check has not been completed.

Please complete the Truck Pre Departure Check assigned, or report to your supervisor.</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <screens>
        <name>scnRest_Break_In_Progress</name>
        <label>Rest Break In Progress</label>
        <locationX>1013</locationX>
        <locationY>802</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <fields>
            <name>txtRestBreakInProgress</name>
            <fieldText>Your current Rest Break is in progress.

Please select Next and return to the Rest Break job and complete.</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>true</showHeader>
    </screens>
    <startElementReference>fuLookup_Work_Order</startElementReference>
    <status>Active</status>
    <subflows>
        <name>Launch_Collect_Deliver</name>
        <label>Launch Collect Deliver</label>
        <locationX>1807</locationX>
        <locationY>994</locationY>
        <connector>
            <targetReference>decUpdateSAStatus</targetReference>
        </connector>
        <flowName>TDF_Collect_Deliver</flowName>
        <inputAssignments>
            <name>Id</name>
            <value>
                <elementReference>Id</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>varStatus</assignToReference>
            <name>varStatus</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Launch_Fit_For_Duty</name>
        <label>Launch Fit For Duty</label>
        <locationX>1584</locationX>
        <locationY>433</locationY>
        <connector>
            <targetReference>assSet_FFD_Id</targetReference>
        </connector>
        <flowName>TDF_Fit_For_Duty</flowName>
        <inputAssignments>
            <name>Id</name>
            <value>
                <elementReference>Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varSRId</name>
            <value>
                <elementReference>varSRId</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>varStatus</assignToReference>
            <name>varStatus</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Launch_PDC</name>
        <label>Launch PDC</label>
        <locationX>1590</locationX>
        <locationY>673</locationY>
        <connector>
            <targetReference>decUpdateSAStatus</targetReference>
        </connector>
        <flowName>TDF_Pre_Departure_Check</flowName>
        <inputAssignments>
            <name>Id</name>
            <value>
                <elementReference>Id</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>varStatus</assignToReference>
            <name>varStatus</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Launch_Return_Vehicle</name>
        <label>Launch Return Vehicle</label>
        <locationX>1592</locationX>
        <locationY>895</locationY>
        <connector>
            <targetReference>decUpdateSAStatus</targetReference>
        </connector>
        <flowName>TDF_Return_Vehicle</flowName>
        <inputAssignments>
            <name>Id</name>
            <value>
                <elementReference>Id</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>varStatus</assignToReference>
            <name>varStatus</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>Rest_Break</name>
        <label>Rest Break</label>
        <locationX>1587</locationX>
        <locationY>563</locationY>
        <connector>
            <targetReference>decUpdateSAStatus</targetReference>
        </connector>
        <flowName>TDF_Rest_Break</flowName>
        <inputAssignments>
            <name>Id</name>
            <value>
                <elementReference>Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varSRId</name>
            <value>
                <elementReference>varSRId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varFFDId</name>
            <value>
                <elementReference>varFFDId</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>varStatus</assignToReference>
            <name>varStatus</name>
        </outputAssignments>
    </subflows>
    <subflows>
        <name>sfDrop_Trailer</name>
        <label>Drop Trailer</label>
        <locationX>1589</locationX>
        <locationY>774</locationY>
        <connector>
            <targetReference>decUpdateSAStatus</targetReference>
        </connector>
        <flowName>TDF_Drop_Trailer</flowName>
        <inputAssignments>
            <name>Id</name>
            <value>
                <elementReference>Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varSRId</name>
            <value>
                <elementReference>varSRId</elementReference>
            </value>
        </inputAssignments>
        <outputAssignments>
            <assignToReference>varStatus</assignToReference>
            <name>varStatus</name>
        </outputAssignments>
    </subflows>
    <variables>
        <name>DebugFlag</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>n</stringValue>
        </value>
    </variables>
    <variables>
        <name>dtLastKnownLocDate</name>
        <dataType>DateTime</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Id</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>0WO0l0000008hwH</stringValue>
        </value>
    </variables>
    <variables>
        <name>numLatitude</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>9</scale>
    </variables>
    <variables>
        <name>numLongitude</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>9</scale>
    </variables>
    <variables>
        <name>sobServiceResource</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>ServiceResource</objectType>
    </variables>
    <variables>
        <name>sobWorkOrder</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>WorkOrder</objectType>
    </variables>
    <variables>
        <name>varFFDId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varSRId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varStatus</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Used to pass &apos;In Progress&apos; WO Id to sub flow</description>
        <name>varWOId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>true</isOutput>
    </variables>
</Flow>
