var _currentContactName=null,_currentContactId=null;define(["util","SFDC/tracking"],function(e,n){var t=null,a=null,r=[],o=!0,i=null,s={cti:{getCallCenterSettings:function(e){var n={result:'{"/CaseSettings/NewCaseOnPop":"false","/CaseSettings/ShowCase":"true","/ConnectorSettings/AgentChannels":"voice,email,chat","/ConnectorSettings/PersistUserSettings":"true","/ConnectorSettings/ReadOnly":"false","/ConnectorSettings/URI":"https://demosrv.live.genesys.com:8043","/ConnectorSettings/UseDefaultPlace":"false","/FieldSearchSettings/ChatSearchType":"name","/FieldSearchSettings/EmailSearchType":"email","/FieldSearchSettings/SearchCaseKVP":"CaseNumber","/FieldSearchSettings/SearchChatField":"Name","/FieldSearchSettings/SearchChatKVP":"FullName","/FieldSearchSettings/SearchEmailField":"Email","/FieldSearchSettings/SearchEmailKVP":"FromAddress","/FieldSearchSettings/SearchVoiceField":"Phone","/FieldSearchSettings/SearchVoiceKVP":"contact_info","/FieldSearchSettings/VoiceSearchType":"phoneNumber","/PopSettings/PopOnConsultCall":"false","/PopSettings/PopOnMediaEstablished":"true","/PopSettings/PopOnVoiceEstablished":"false","/PopSettings/ShowContact":"true","/TaskSettings/CreateTask":"true","/TaskSettings/NewTaskOnPop":"true","/displayNameLabel":"Display Name","/internalNameLabel":"Internal Name","/reqGeneralInfo/reqAdapterUrl":"/apex/CRMConnector","/reqGeneralInfo/reqDescription":"SFDC Genesys Connector","/reqGeneralInfo/reqSoftphoneHeight":"250","/reqGeneralInfo/reqSoftphoneWidth":"230","/reqGeneralInfo/reqUseApi":"true","/reqGeneralInfo/reqVersion":"1","/reqGeneralInfo/reqDisplayName":"SFDC Genesys Connector","/reqGeneralInfo/reqInternalName":"SFDCGenesysConnector"}'};e(n)},enableClickToDial:function(){},onClickToDial:function(e){i=e},clickToDial:function(e){var n={result:e};i(n)}}},c={isInConsole:function(){return!0},setCustomConsoleComponentButtonText:function(){},setCustomConsoleComponentButtonStyle:function(){},addEventListener:function(n,t){e.getInstance(n).subscribe(t)},fireEvent:function(n,t){var a={message:t};e.getInstance(n).publish(a)},openPrimaryTab:function(e,n,a,r,i){t="openPrimaryTab-"+r;var s={success:o,id:t};i!==void 0&&i!==null&&i(s)},openSubtab:function(e,n,t,o,i,s){a="openSubtab-"+o,r.push(a);var c={success:!0,id:a};s!==void 0&&s!==null&&s(c)},refreshPrimaryTabByName:function(e,n,t){var a={success:!1};t!==void 0&&t!==null&&t(a)},refreshPrimaryTabById:function(e,n,t){var a={success:!1};t!==void 0&&t!==null&&t(a)},getFocusedPrimaryTabId:function(e){var n={success:o,id:"openPrimaryTabFooBar"};e!==void 0&&e!==null&&e(n)},onFocusedPrimaryTab:function(e){var n={id:"PrimaryTabFooBar",objectId:"123456789012345"};e!==void 0&&e!==null&&e(n)},closeTab:function(e,n){var t={success:!0};n!==void 0&&n!==null&&n(t)},testGetCurrentTabId:function(){return t},testGetCurrentSubtabId:function(){return a},testIsSubtabId:function(e){return $.inArray(e,r)},testSetCurrentContact:function(e,n){_currentContactId=e,_currentContactName=n},testReset:function(){_currentContactId=null,_currentContactName=null,t=null,a=null,n.reset(),r.length=0},testValidTab:function(e){o=e}};return{console:c,interaction:s}});var ConnectorController={findContact:function(e,n,t){var a={Id:_currentContactId,Name:_currentContactName};t!==void 0&&t!==null&&(n==="multiple"?a.Id=void 0:n==="unknown"&&(a=null),t(a))},findCase:function(e,n){var t=null;e==="123"&&(t={Id:"case-123",CaseNumber:"123",ContactId:_currentContactId}),n!==void 0&&n!==null&&n(t)},createTask:function(e,n,t,a,r,o,i){var s={Type:"Interaction",Status:"In Progress",Subject:a,WhoId:n,WhatId:t,Id:"createTask"};i!==void 0&&i!==null&&i(s)},closeTask:function(e,n,t,a,r,o,i,s,c,l){var u={Id:"closeTask"};l!==void 0&&l!==null&&l(u)},createCase:function(e,n,t,a,r,o,i){var s={Id:"case-"+e};i!==void 0&&i!==null&&i(s)},getContact:function(e,n,t){var a=null;e!==null&&(a={Id:_currentContactId,Name:_currentContactName}),t!==void 0&&t!==null&&t(a)}}