define(["util","config","agent/voice","agent/email","agent/chat","agent/openmedia","agent/preview"],function(e,a,n,s,t,o,i){var c="agent/session: ";console.log(c+"Initializing");var g=function(e){switch(console.log(c+"onGenesysMessage - "+e.channel),e.channel){case"/v2/me/calls":n.onMessage(e.data);break;case"/v2/me/emails":s.onMessage(e.data);break;case"/v2/me/chats":t.onMessage(e.data);break;case"/v2/me/openmedia":o.onMessage(e.data);break;case"/v2/me/outbound":e.data.record.userData=e.data.record.customFields,i.onMessage(e.data)}},l=function(){e.getInstance("genesys.message").subscribe(g),console.log(c+"Initialized")};return{initialize:l}})