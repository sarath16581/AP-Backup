<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <fieldUpdates>
        <fullName>Reset_Dispatch_System_Sync</fullName>
        <field>Send_to_Dispatch_System__c</field>
        <literalValue>0</literalValue>
        <name>Reset Dispatch System Sync</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <outboundMessages>
        <fullName>PUD_MobileSTAR_Sync_Job</fullName>
        <apiVersion>52.0</apiVersion>
        <description>Outbound message that push job details to external dispatch system (MobileSTAR) via TIBCO for dispatching to a resource.</description>
        <endpointUrl>https://webapi-ptestext.npe.auspost.com.au/stest/booking/jobs</endpointUrl>
        <fields>Article_Count__c</fields>
        <fields>Bags_Quantity__c</fields>
        <fields>Billing_Account_Number__c</fields>
        <fields>Blue_Bags__c</fields>
        <fields>Booking_Comments__c</fields>
        <fields>Booking_Id__c</fields>
        <fields>Booking_Record_Type__c</fields>
        <fields>Booking_Type_Fx__c</fields>
        <fields>Booking_Type__c</fields>
        <fields>City__c</fields>
        <fields>Comments__c</fields>
        <fields>Contact_Name__c</fields>
        <fields>Contact_Phone_Number__c</fields>
        <fields>Containers_Payload__c</fields>
        <fields>Customer_Name__c</fields>
        <fields>Date__c</fields>
        <fields>Deliver_Product__c</fields>
        <fields>Depot_Organisation_Id__c</fields>
        <fields>Display_ETA_to_Driver__c</fields>
        <fields>Dock_Number__c</fields>
        <fields>Dwell_Time_Planned__c</fields>
        <fields>Earliest_Start_Time_Text__c</fields>
        <fields>Express_Bags__c</fields>
        <fields>Express_Product__c</fields>
        <fields>Geo__Latitude__s</fields>
        <fields>Geo__Longitude__s</fields>
        <fields>Hazards__c</fields>
        <fields>Id</fields>
        <fields>International_Product__c</fields>
        <fields>Job_Instructions__c</fields>
        <fields>Key_Number__c</fields>
        <fields>Large_Letter_Tubs__c</fields>
        <fields>Latest_End_Time_Text__c</fields>
        <fields>Location_DPID__c</fields>
        <fields>Location_Frontage_Geo__Latitude__s</fields>
        <fields>Location_Frontage_Geo__Longitude__s</fields>
        <fields>Location_Side_Of_Street_Code__c</fields>
        <fields>Location_Type__c</fields>
        <fields>Location__c</fields>
        <fields>Name</fields>
        <fields>Pallets_Quantity__c</fields>
        <fields>Post_Code__c</fields>
        <fields>Red_Tubs__c</fields>
        <fields>Regular_Product__c</fields>
        <fields>Revenue_Check__c</fields>
        <fields>RouteEndTime__c</fields>
        <fields>RouteName__c</fields>
        <fields>RouteStartTime__c</fields>
        <fields>RouteType__c</fields>
        <fields>Site_Instructions__c</fields>
        <fields>Small_Letter_Trays__c</fields>
        <fields>Start_Time_Text__c</fields>
        <fields>State__c</fields>
        <fields>Status__c</fields>
        <fields>Stop_Credit__c</fields>
        <fields>Street__c</fields>
        <fields>Trays_Quantity__c</fields>
        <fields>Tubs_Quantity__c</fields>
        <fields>White_Bags__c</fields>
        <includeSessionId>false</includeSessionId>
        <integrationUser>pudintegration@auspost.com.au</integrationUser>
        <name>PUD - MobileSTAR Sync Job</name>
        <protected>false</protected>
        <useDeadLetterQueue>true</useDeadLetterQueue>
    </outboundMessages>
    <rules>
        <fullName>PUD - Job Sync</fullName>
        <actions>
            <name>Reset_Dispatch_System_Sync</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>PUD_MobileSTAR_Sync_Job</name>
            <type>OutboundMessage</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>PUD_Job__c.Send_to_Dispatch_System__c</field>
            <operation>equals</operation>
            <value>True</value>
        </criteriaItems>
        <description>Sync Job details with external dispatch system for dispatching to a resource.</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
</Workflow>
